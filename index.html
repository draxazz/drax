<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>draxwastaken</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap');
  body {
    font-family: 'Fira Mono', monospace;
    background: #fff;
    color: #222;
    margin: 0; padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1.neon {
    font-size: 3rem;
    color: #c1bfff;
    text-shadow:
      0 0 5px #c1bfff,
      0 0 10px #a86fff,
      0 0 20px #a86fff,
      0 0 30px #9a59ff,
      0 0 40px #9a59ff,
      0 0 50px #8a4aff,
      0 0 60px #8a4aff;
    margin-bottom: 1rem;
  }
  #theme-toggle {
    cursor: pointer;
    position: fixed;
    top: 20px;
    right: 20px;
    background: transparent;
    border: none;
    font-size: 1.5rem;
  }
  .card {
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    border-radius: 15px;
    padding: 15px 20px;
    width: 90vw;
    max-width: 400px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    margin-bottom: 1.5rem;
  }
  .card div {
    flex-grow: 1;
  }
  .card h2 {
    margin: 0 0 5px 0;
    text-decoration: underline;
  }
  .card p, .card span {
    margin: 0;
    font-size: 0.85rem;
  }
  .card p a {
    text-decoration: underline;
    color: #333;
  }
  .card img {
    width: 60px;
    height: 60px;
    border-radius: 12px;
    margin-left: 15px;
    object-fit: cover;
  }
  .icons {
    display: flex;
    justify-content: space-around;
    width: 90vw;
    max-width: 400px;
    padding: 12px 0;
    border: 1px solid #ddd;
    border-radius: 15px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    margin-bottom: 1rem;
  }
  .icons a {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 38px;
    height: 38px;
    color: #222;
  }
  .icons svg {
    width: 24px;
    height: 24px;
    fill: currentColor;
  }
  footer {
    font-size: 0.8rem;
    text-align: center;
    font-family: monospace;
    line-height: 1.2;
    color: #555;
  }
  /* Dark mode styles */
  body.dark {
    background: #121212;
    color: #ccc;
  }
  body.dark .card, body.dark .icons {
    border-color: #444;
    box-shadow: 0 3px 8px rgba(255, 255, 255, 0.15);
  }
  a {
    color: inherit;
  }
</style>
</head>
<body>
  <h1 class="neon">draxwastaken</h1>
  <button id="theme-toggle" aria-label="Toggle Dark Mode">ðŸŒ™</button>
  <section class="card">
    <div>
      <h2 id="username">Loading...</h2>
      <p><a id="artist" href="#" target="_blank" rel="noopener noreferrer">-</a></p>
      <span id="timeago">-</span> â€¢ last.fm
    </div>
    <img id="avatar" src="" alt="Avatar" />
  </section>
  <nav class="icons" aria-label="Social links">
    <a href="https://open.spotify.com/user/draaax!" target="_blank" title="Spotify" aria-label="Spotify">
      <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.37 0 0 5.37 0 12a12 12 0 1024 0c0-6.63-5.37-12-12-12zm5.37 17.36a.75.75 0 01-1.04.24c-2.85-1.73-6.43-2.13-10.65-1.16a.75.75 0 11-.33-1.45 13.73 13.73 0 0111.52 1.26.75.75 0 01.5 1.11zm1.48-3.4a.9.9 0 01-1.25.27c-3.26-1.96-8.24-2.52-12.08-1.38a.9.9 0 11-.47-1.7c4.46-1.23 9.87-.62 13.9 1.57a.9.9 0 01.9 1.24zm.19-3.43c-3.68-2.23-9.81-2.83-13.17-1.54a1.05 1.05 0 01-1.22-1.45c3.86-1.91 11.42-1.22 15.88 1.7a1.05 1.05 0 01-.72 1.3z"/></svg>
    </a>
    <a href="https://discord.gg/N4vMbsDa" target="_blank" title="Discord" aria-label="Discord">
      <svg role="img" viewBox="0 0 71 55" xmlns="http://www.w3.org/2000/svg"><path d="M60.104 4.552a58.043 58.043 0 00-14.527-4.527.218.218 0 00-.232.1c-.63 1.086-1.335 2.495-1.83 3.61a55.322 55.322 0 00-16.418 0c-.496-1.115-1.2-2.524-1.83-3.61a.232.232 0 00-.232-.1A58.013 58.013 0 001.2 4.552a.204.204 0 00-.086.078C1.027 17.623 1.678 30.646 2.546 43.615a.23.23 0 00.084.154 58.119 58.119 0 0017.618 8.927.23.23 0 00.234-.083c1.361-1.87 2.574-3.85 3.6-5.927a.23.23 0 00-.127-.32 44.335 44.335 0 01-6.333-3.07.115.115 0 01-.012-.01c.53-.376 1.04-.77 1.52-1.196a.222.222 0 01.23-.036 41.434 41.434 0 0012.446 5.894.231.231 0 00.203-.036.217.217 0 00.092-.136c.716-2.5 1.2-5.102 1.43-7.746a.228.228 0 00-.068-.165 27.926 27.926 0 01-3.837-1.83.222.222 0 01-.02-.37c.547-.446 1.075-.914 1.576-1.416a.222.222 0 01.146-.069c3.14-.317 6.243-1.057 9.244-2.114a.23.23 0 00.115-.096c.08-.11.14-.238.176-.38a23.423 23.423 0 001.06-7.874.22.22 0 00-.085-.176z"/></svg>
    </a>
    <a href="https://github.com/draxazz" target="_blank" title="GitHub" aria-label="GitHub">
      <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0a12 12 0 00-3.79 23.4c.6.11.82-.26.82-.58v-2.2c-3.34.72-4.04-1.6-4.04-1.6a3.18 3.18 0 00-1.33-1.75c-1.09-.75.08-.74.08-.74a2.52 2.52 0 011.84 1.24 2.56 2.56 0 003.5 1 2.57 2.57 0 01.76-1.6c-2.66-.3-5.47-1.33-5.47-5.94a4.63 4.63 0 011.24-3.22 4.3 4.3 0 01.12-3.17s1-.33 3.3 1.23a11.5 11.5 0 016 0c2.3-1.56 3.3-1.23 3.3-1.23a4.3 4.3 0 01.12 3.17 4.63 4.63 0 011.24 3.22c0 4.62-2.81 5.63-5.48 5.93a2.87 2.87 0 01.82 2.23v3.31c0 .32.22.7.82.58A12 12 0 0012 0z"/></svg>
    </a>
    <a href="https://www.tiktok.com/@draxwastaken7" target="_blank" title="TikTok" aria-label="TikTok">
      <svg role="img" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M21.97 43.12c-.45 0-.9-.08-1.32-.25a5.41 5.41 0 01-2.79-2.3c-1.67-2.44-1.45-5.82.48-8.26 2.2-2.86 6.18-3.17 8.86-1.03v-6.74h4.88v13.9a14.1 14.1 0 01-9.11 4.68z"/></svg>
    </a>
  </nav>
  <footer>
    Â© 2025 draxwastaken<br />
    licensed under <strong>GNU GPL v3</strong>
  </footer>
<script>
  const themeToggle = document.getElementById('theme-toggle');
  themeToggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
  });
  function timeAgo(date) {
    const seconds = Math.floor((new Date() - date) / 1000);
    if (seconds < 60) return 'just now';
    else if (seconds < 3600) return Math.floor(seconds / 60) + ' minutes ago';
    else if (seconds < 86400) return Math.floor(seconds / 3600) + ' hours ago';
    else return Math.floor(seconds / 86400) + ' days ago';
  }
  async function fetchLastFM() {
    const user = 'draxwastaken';
    const apiKey = 'ab45d2456901e4203c1cc3d3fe1667f6';
    const proxyURL = 'https://lastfm-api-beryl.vercel.app/api/lastfm';
    const url = `${proxyURL}?user=${user}&apiKey=${apiKey}`;
    try {
      const response = await fetch(url);
      const data = await response.json();
      const track = data.recenttracks.track[0];
      const artistName = track.artist['#text'];
      const trackName = track.name;
      const albumArt = track.image.find(img => img.size === 'medium')['#text'];
      const nowPlaying = track['@attr'] && track['@attr'].nowplaying;
      const playTime = nowPlaying ? new Date() : new Date(track.date['uts'] * 1000);
      document.getElementById('username').textContent = user;
      const artistLink = document.getElementById('artist');
      artistLink.textContent = artistName + ' - ' + trackName;
      artistLink.href = track.url;
      document.getElementById('timeago').textContent = timeAgo(playTime);
      document.getElementById('avatar').src = albumArt || 'https://via.placeholder.com/60';
    } catch (error) {
      document.getElementById('username').textContent = 'Error loading';
      document.getElementById('artist').textContent = '';
      document.getElementById('timeago').textContent = '';
      document.getElementById('avatar').src = '';
      console.error('Error fetching Last.fm:', error);
    }
  }
  fetchLastFM();
</script>
</body>
</html>
